<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="/css/init.css">
    <link rel="stylesheet" href="/css/sidebar.css">
    <link rel="stylesheet" href="/css/header_footer.css">
    <link rel="stylesheet" href="/css/coordinador/periodo.css">

<meta charset="UTF-8">
</head>

<body>
    <header>
        <div id="left-header">
            <a href="#"><img src="/images/logo.png" alt="logo"></a>
            <h1>Coordinador Abiham Ramos</h1>
        </div>
    
        <!-- OPCIONES DEL HEADER ACA -->
        <div id="right-header">
            <a href="/auth/logout">Salir</a>
        <div>
    </header>

<nav id="sidebar">
    <!-- OPCIONES DE LA SIDEBAR ACA -->
     <a href="#">Inicio</a>
     <a href="#" class="actual-link-sidebar">Períodos</a>
     <a href="#">Asignaturas</a>
     <a href="#">Cargas Académicas</a>
     <a href="#">Calificaciones</a>
     <a href="#">Docentes</a>
     <a href="#">Estudiantes</a>
     <a href="#">Representantes</a>
</nav>

<!-- ACÁ IRÁ EL CONTENIDO QUE SE MOSTRARÁ EN EL MEDIO DE LA PAGINA -->
<main class="content-main">
    
    <div class="header-main">
        <h2>Periodos Académicos</h2>
        <a href="/coordinador/periodo/crear" class="nuevo">Nuevo Periodo</a>
    </div>


    <div class="card-tabla">
        <div class="header-inside">
            <h2>Historial de Periodos Creados</h2>
        </div>
        <!--Crear una tabla con codigo, nombre y años/grados en los que se da la materia-->
        <table>
            <tr>
                <th>ID</th>
                <th>Periodo</th>
                <th>Fecha Inicio</th>
                <th>Fecha Final</th>
                <th>Secciones</th>
                <th>Lapso Activo</th>
                <th>Estado</th>
                <th></th>
            </tr>
            <% if (data.periodos) { %>
                <% data.periodos.forEach(periodo => { %>
                    <tr>
                        <td><%= periodo.id %></td>
                        <td><%= periodo.nombre %></td>
                        <td><%= periodo.fecha_inicio %></td>
                        <td><%= periodo.fecha_fin %></td>
                        <td>
                            <% periodo.secciones.forEach(seccion => { %>
                                <%= seccion %>, 
                            <% }) %>
                        </td>

                        <td><% if (periodo.lapso_activo == 0) {%> <%="Ninguno"%> <%} else { %> <%=periodo.lapso_activo%> <%}%></td>
                        <td>
                            <%if (periodo.finalizado == 0) { %> <%= 'Activo' %> <% } else { %> <%= 'Finalizado' %> <% } %>
                        </td>




                        <td><a href="/coordinador/periodo/editar/<%= periodo.id %>" class="nuevo">Editar</a></td>
                    </tr>
                <% }) %>
            <% } %> 
        </table>
    </div>

</main>


<footer>
    <p>&copy; 2024. Colegio Santa Marta. Todos los derechos reservados.</p>
</footer>

</body>
</html>